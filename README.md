# ماژول پرداخت آنلاین هزینه درس ها در مودل توسط زرین پال

با استفاده از این ماژول میتوانید برای همه درس ها به صورت پیش فرض، و یا به صورت هر درس جدا مبلغی را جهت پرداخت و ثبت نام کاربر در درس ها تعیین نمایید. کاربر بعد از پرداخت هزینه به صورت خودکار در درس ثبت نام میشود و میتواند از محتویات درس ارائه شده استفاده نماید.

## نحوه نصب ماژول

1. ابتدا ماژول را از آدرس https://goo.gl/8j4ipM دریافت نمایید.
2. محتویات داخل فایل را داخل پوشه enrol در روت پروژه استخراج نمایید و نام پوشه را از zarinpal_moodle_enrol_plugin-master به zarinpal تغییر دهید.
3. با حساب مدیر سایت وارد سایت خود شوید.
4. پلاگین زرین پال را با زدن دکمه "ارتقا" نصب نمایید.
5. بعد از نصب به قسمت "مدیریت سایت" رفته و وارد قسمت "پلاگین ها" شوید. در این قسمت وارد در بخش "ثبت نام ها" روی گزینه "مدیریت پلاگین های ثبت نام" کلیک نمایید. 
آدرس نصبی: "yoursite.com/admin/settings.php?section=manageenrols"
6. در این قسمت با کلیک روی آیکون چشم روبروی نام "زرین پال"  این پلاگین را فعال نمایید.
7. بعد از فعال سازی وارد تنظیمات پلاگین شوید.
آدرس نصبی: "yoursite.com/admin/settings.php?section=enrolsettingszarinpal"
8. در قسمت merchant_id کد مرچنت خود را که از زرین پال دریافت کرده اید را وارد نمایید.
9. زیر قسمت merchant_id در صورتی که میخواهید از زرین پال به صورت تستی استفاده نمایید تیک را از حالت انتخاب خارج نمایید.
10. برای استفاده از زرین گیت تیک گزینه استفاده از زرین گیت را بزنید و در صورتی که زرین گیت را در سایت زرین پال فعال نکرده اید تیک این قسمت را بردارید.
11. در قسمت هزینه ثبت نام می توانید یک مقدار پیش فرض را برای همه دروس انتخاب نمایید. اگر مقدار صفر باشد کاربر برای ثبت نام در درس هیچ هزینه ای را نمی پردازد. البته شما میتوانید برای هر درس به صورت مجزا قیمت تعیین نمایید.
12. در قسمت واحد پول، واحد پول را به "ریال ایران" تغییر دهید.
13. تغییرات را ذخیره کنید.

## نحوه استفاده از ماژول

1.	با حساب مدیر وارد قسمت "روش های ثبت نام" درس مورد نظر شوید و در پایین جدول در بخش اضافه کردن روش گزینه "زرین پال" را انتخاب نمایید.
آدرس نسبی: yoursite.com/enrol/instances.php?id=2
2.	در قسمت "نام سفارشی این روش ثبت‌ نام" یک نام برای روش پرداخت انتخاب نمایید.
3.	اجازه ثبت نام را به بله تغییر حالت دهید.
4.	هزینه ثبت نام را به ریال وارد نمایید.
5.	تنظیمات دلخواه خود را انجام دهید.
6.	روی دکمه اضافه کردن روش کلیک نمایید.
7.	در قسمت روش های ثبت نام، با کلیک بر روی آیکون چشم روش پرداخت ایجاد شده را فعال نمایید و آن را به بالاترین سطح منتقل نمایید.
8.	گزینه ثبت نام خود و دسترسی مهمان را در این بخش غیر فعال نمایید.

کار به پایان رسید. اکنون اگر با یک حساب کاربری غیر از مدیر، به درس مورد نظر بروید مشاهده خواهید کرد که باید هزینه درس را پرداخت کنید و بعد از پرداخت اجازه دسترسی به درس را خواهید داشت.

موفق و پیروز باشید
سعید سجادی
Saeedsajadi.ir
